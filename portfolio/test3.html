<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>serin's portfolio</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/reset.css">
    

    <style>
        .scroll {
            position: fixed;
            right: 30px; bottom: 30px;
            width: 40px; height: 40px;
            background: #e91c0d;
            text-align: center;
            line-height: 40px;
            font-size: 8px;
            color: #fff;
            border-radius: 50%;
            z-index: 10000;
        }

        .contentWrap {
            position: fixed;
            left: 0; top: 0;
            display: flex;
        }
        .content__item {
            width: 100vw; height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            position: relative;
            box-sizing: border-box;
        }
        #contents > div {
            position: relative;
        }
        #section1 {
            background: #fbe9e8;
        }
        #section2 {
            background: #ff493f;
            z-index: 2000;
        }
        .fixed {
            position: fixed;
            left: 50%; top: 50%;
            transform: translate(-50%, -50%);
        }

        /* section1 */
        .sec1-text1 {
            z-index: 100;
            font-size: 8vw;
            white-space: nowrap;
            color: #e91c0d;
        }
        .sec1-text1 .t1 .line1 {
            width: 25vw;
            height: 1.2vw;
            background: #e91c0d;
            display: inline-block;
            border-radius: 5px;
            position: relative;
            top: -3.65vw;
            margin-left: -1vw;
            margin-right: -1vw;
        }
        .sec1-text1 .t2 .line2 {    
            width: 25vw;
            height: 1.1vw;
            background: #e91c0d;
            display: inline-block;
            border-radius: 5px;
            position: relative;
            top: 0.9vw;
            margin-left: -2vw;
            margin-right: -2vw;
        }
        .sec1-text1 .t3 .line3 {
            width: 25vw;
            height: 1vw;
            background: #e91c0d;
            display: inline-block;
            border-radius: 5px;
            position: relative;
            top: -2.6vw;
            margin-left: -2vw;
            margin-right: -2vw;
        }
        .sec1-text1 .t4 .line3 {
            height: 1.2vw;
            margin-left: 3vw;
            /* width: 25vw; height: 1.2vw; */
            /* margin-left: -1vw; margin-right: -2vw; */
            background: #e91c0d;
            display: inline-block;
            border-radius: 5px;
            position: relative;
            top: -2.65vw; 
        }
        .sec1-img1 {
            z-index: 100;
        }
        .sec1-img2 {
            z-index: 100;
        }

        /* svg */
        #circle {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 100%; height: 100vh;
        }
        .controls {
            position: fixed;
            top: 0;
            left: 0;
            padding: 15px;
        }

        .dot {
            fill-opacity: 0.3;
            stroke-width: 1;
            vector-effect: non-scaling-stroke;
        }


        #slider {
            
        }
        #slider .slider-wrap {

        }
        #slider .slider-wrap .slider-img {
            position: relative;
        }

        #slider .slider-wrap .slider {
            position: absolute;
            left: 0; top: 0;
        }
        
    </style>
</head>
<body>
    <!-- <div class="loading">
        <article class="audio">
            <span class="btn-sound">
                <i class="fa fa-volume-up" aria-hidden="true"></i>
                <i class="fa fa-volume-off" aria-hidden="true"></i>
            </span>
            <audio id="theme-song" src="../assets/audio/gameshow-brazz-658.mp3" loop="loop"></audio>
        </article>
        <div class="circle-wrap">
            <div class="circle-inner">
                <div class="circle"></div>
            </div>
        </div>
        <p>제 포트폴리오의 방문해주셔서 감사합니다!</p>
    </div> -->
    <!-- loding -->


    <div class="contentWrap">

        <section id="section1" class="content__item">
            <div class="header">
                <img class="logo" src="assets/img/logo.svg" alt="logo">
                <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
            </div>
            <article class="audio">
                <span class="btn-sound">
                    <!-- <i class="fa fa-volume-up" aria-hidden="true"></i> -->
                    <i class="fa fa-volume-off fa-lg" aria-hidden="true"></i>
                </span>
                <!-- <audio id="theme-song" src="../assets/audio/gameshow-brazz-658.mp3" loop="loop"></audio> -->
            </article>
            <div class="bottom fixed">
                <span>scroll</span>
                <img class="arrow-down" src="assets/img/arrow-down.png" alt="arrowdown">
            </div>
            <div class="scroll">0</div>
            <div class="sec1-text1">
                <div class="t1 fixed"
                    data-0 = "top: 10vw; left: 50vw;"
                    data-2000 = "left: 30vw;"
                    data-5000="left: 30vw;"
                    data-13000="left: 30vw;"
                    data-14000="left: -30vw;"
                >안녕하<span class="line1"
                    data-0 = "width: 25vw; margin-left: -2vw; margin-right: -1vw;"
                    data-1000 = "width: 25vw; margin-left: -2vw; margin-right: -1vw;"
                    data-2000 = "width: 0vw; margin-left: 1vw; margin-right: -1vw;"
                ></span>세요.</div>
                <div class="t2 fixed"
                    data-1500 = "top: 25vw; left: 135vw;"
                    data-4500 = "left: 33vw;"
                    data-7000 = "left: 33vw;"
                    data-13000 = "left: 33vw;"
                    data-14000 = "left: -30vw;"
                >이세린<span class="line2"
                    data-1500 = "width: 25vw; margin-left: -2vw; margin-right: -1vw;"
                    data-4000 = "width: 25vw; margin-left: -2vw; margin-right: -1vw;"
                    data-4500 = "width: 0vw; margin-left: 1vw; margin-right: -1vw;"
                ></span>입니다.</div>
                <div class="t3 fixed"
                    data-3500 = "top: 40vw; left: 140vw;"
                    data-7500 = "left: 39vw;"
                    data-9000="left: 39vw;"
                    data-13000="left: 39vw;"
                    data-14000="left: -30vw;"
                >저를<span class="line3"
                    data-3500 = "width: 25vw; margin-left: -1vw; margin-right: -2vw;"
                    data-7000 = "width: 25vw; margin-left: -1vw; margin-right: -2vw;"
                    data-7500 = "width: 0vw; margin-left: 5vw; margin-right: -2vw;"
                ></span>소개할게요!</div>
                <div class="t4 fixed"
                    data-14000 = "left: 130vw"
                    data-15000 = "left: 50vw"
                >저의<span class="line3"
                    data-14000 = "width: 0vw; margin-left: 3vw; margin-right: 0vw;"   
                    data-15800 = "width: 0vw; margin-left: 3vw; margin-right: 0vw;"   
                    data-15900 = "width: 0vw; margin-left: 3vw; margin-right: -1vw;"   
                    data-16000 = "width: 0vw; margin-left: 3vw; margin-right: -2vw;"   
                    data-17000 = "width: 25vw; margin-left: -1vw; margin-right: -2vw;"   
                ></span>능력은요 '◡'</span></div>
            </div>
            <div class="sec1-img1 fixed"
                data-7000="left: 130vw; top: 100vw; transform: scale(0);"
                data-10000="left: 65vw; top: 5vw; transform: scale(1);"
                data-11000="left: 65vw; top: 5vw; transform: scale(1);"
                data-12000="left: 55vw; top: 5vw; transform: scale(1.2);"
                data-13000="left: 45vw; top: 5vw; transform: scale(1.2);"
                data-14000="left: -30vw; top: 5vw; transform: scale(1.2);"
            >
                <img src="assets/img/icon1.png" alt="구름 이미지">
            </div>
            <div class="sec1-img2 fixed"
                data-16000 = "left : 130vw; top: 10vw"
                data-17000 = "left : 80vw; top: 20vw"
                data-18000 = "left : 70vw; top: 15vw"
            >
                <img src="assets/img/icon2.png" alt="비눗방울 이미지">
            </div>
            <div class="sec1-img slider-wrap">
                <div class="slider-inner">
                    <div class="slider">
                        <svg id="circle" viewBox="0 0 1000 1000">
                            <defs>
                                <style>.cls-2{clip-path:url(#clip-path);}</style>
                                <clipPath id="clip-path">
                                    <path x="20" class="blob cls-1"></path>
                                </clipPath>
                            </defs>
                            <path class="blob cls-1"></path>
                            <g class="cls-2">
                                <image class="cls-3" width="100%" height="100%" xlink:href="assets/img/serin3.jpg"/>
                            </g>
                            <g class="cls-2">
                                <image class="cls-3" width="100%" height="100%" xlink:href="assets/img/serin2.png"/>
                            </g>
                            <g class="cls-2">
                                <image class="cls-3" width="100%" height="100%" xlink:href="assets/img/serin1.png"/>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>

        </section> 
        <!-- //section1 -->
    </div>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/skrollr/0.6.30/skrollr.min.js"></script>
    <script>
        //가로모드
        const contentWrap = $(".contentWrap");
        const contentItem = $(".content__item");

        let scrollTotalWidth = contentWrap.width();
        $("body").height(scrollTotalWidth);
        
        $(window).scroll(function(){
            let scrollTop = $(window).scrollTop();
 
            let nWidth = scrollTotalWidth - $(window).width();
            let nHeight = $("body").height() - $(window).height();

            let ratio = nWidth / nHeight;
            let goLeft = scrollTop * ratio;

            contentWrap.css("left", -goLeft);
        });

        //로딩
        $(window).load(function(){
            $(".loading").fadeOut();
        });

        $(window).scroll(function(){
            //bottom 사라지게
            $(".bottom").addClass("end");
        });

        //스크롤 값 출력
        var s = skrollr.init();
        window.addEventListener("scroll", () => {
            let scrollTop = document.documentElement.scrollTop || window.scrollY || window.PageYOffset; 
            document.querySelector(".scroll").innerHTML = scrollTop;
        })

        //svg
        var blob1 = createBlob({
            element: document.querySelector(".blob"),
            numPoints: 10,
            centerX: 490,
            centerY: 450,
            minRadius: 300,
            maxRadius: 320,
            minDuration: 1,
            maxDuration: 2
        });


        function createBlob(options) {
            var points = [];  
            var path = options.element;
            var slice = (Math.PI * 2) / options.numPoints;
            var startAngle = random(Math.PI * 2);
            var tl = new TimelineMax({
                onUpdate: update
            });  

            for (var i = 0; i < options.numPoints; i++) {

            var angle = startAngle + i * slice;
            var duration = random(options.minDuration, options.maxDuration);

            var point = {
                x: options.centerX + Math.cos(angle) * options.minRadius,
                y: options.centerY + Math.sin(angle) * options.minRadius
            };   

            var tween = TweenMax.to(point, duration, {
                x: options.centerX + Math.cos(angle) * options.maxRadius,
                y: options.centerY + Math.sin(angle) * options.maxRadius,
                repeat: -1,
                yoyo: true,
                ease: Sine.easeInOut
            });

            tl.add(tween, -random(duration));
                points.push(point);
            }

            options.tl = tl;
            options.points = points;

            function update() {
                path.setAttribute("d", cardinal(points, true, 1));
            }

            return options;
        }

        // Cardinal spline - a uniform Catmull-Rom spline with a tension option
        function cardinal(data, closed, tension) {

            if (data.length < 1) return "M0 0";
            if (tension == null) tension = 1;

            var size = data.length - (closed ? 0 : 1);
            var path = "M" + data[0].x + " " + data[0].y + " C";

            for (var i = 0; i < size; i++) {

                var p0, p1, p2, p3;

                if (closed) {
                    p0 = data[(i - 1 + size) % size];
                    p1 = data[i];
                    p2 = data[(i + 1) % size];
                    p3 = data[(i + 2) % size];
                } else {
                    p0 = i == 0 ? data[0] : data[i - 1];
                    p1 = data[i];
                    p2 = data[i + 1];
                    p3 = i == size - 1 ? p2 : data[i + 2];
                }

                var x1 = p1.x + (p2.x - p0.x) / 6 * tension;
                var y1 = p1.y + (p2.y - p0.y) / 6 * tension;

                var x2 = p2.x - (p3.x - p1.x) / 6 * tension;
                var y2 = p2.y - (p3.y - p1.y) / 6 * tension;

                path += " " + x1 + " " + y1 + " " + x2 + " " + y2 + " " + p2.x + " " + p2.y;
            }
            return closed ? path + "z" : path;
        }

        function random(min, max) {
            if (max == null) { max = min; min = 0; }
            if (min > max) { var tmp = min; min = max; max = tmp; }
            return min + (max - min) * Math.random();
        }

        //이미지 슬라이드
        const sliderWrap = $(".slider-wrap");
        const sliderImg = $(".slider-img");
        const slider = $(".cls-2");

        let currentIndex = 0;  
        let sliderCount = slider.length;

        setInterval(function(){
            let nextIndex = (currentIndex + 1) % sliderCount;

            slider.eq(currentIndex).fadeOut() ;
            slider.eq(nextIndex).fadeIn()  ;  

            currentIndex = nextIndex;
        } , 3000);
    </script>
</body>
</html>