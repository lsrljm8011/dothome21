<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>serin's portfolio</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/reset.css">
    

    <style>
        .scroll {
            position: fixed;
            right: 30px; bottom: 30px;
            width: 40px; height: 40px;
            background: #e91c0d;
            text-align: center;
            line-height: 40px;
            font-size: 8px;
            color: #fff;
            border-radius: 50%;
            z-index: 10000;
        }

        #contents > div {
            position: relative;
        }
        #section1 {
            background: #fbe9e8;
        }
        #section2 {
            background: #ff493f;
            z-index: 2000;
        }
        .fixed {
            position: fixed;
            left: 50%; top: 50%;
            transform: translate(-50%, -50%);
        }

        /* section1 */
        .s1Text1 {
            display: flex;
            color: #e91c0d;
            top: 15vh;
            transform: translate(-50%, -50%);
            white-space: nowrap; 
            z-index: 100;
        }
        .s1Text1 span {
            font-size: 120px;
            float: left;
        }
        .s1Text1 div {
            height: 20px;
            background: #e91c0d;
            border-radius: 3px;
            margin-top: 76px;
        }
        .s1Text2 {
            display: flex;
            color: #e91c0d;
            top: 45vh;
            transform: translate(-50%, -50%);
            white-space: nowrap; 
            z-index: 100;
        }
        .s1Text2 span {
            font-size: 120px;
            float: left;
        }
        .s1Text2 div {
            height: 18px;
            background: #e91c0d;
            border-radius: 3px;
            margin-top: 146px;
        }
        .s1Text3 {
            display: flex;
            color: #e91c0d;
            top: 80vh;
            transform: translate(-50%, -50%);
            white-space: nowrap; 
            z-index: 100;
        }
        .s1Text3 span {
            font-size: 120px;
            float: left;
        }
        .s1Text3 div {
            height: 15px;
            background: #e91c0d;
            border-radius: 3px;
            margin-top: 96px;
        }
        .s1Image1 {
            z-index: 100;
        }
        .s1Image1 img {

        }

        #svg {
            width: 800px; height: 800px;
        }
        #svg image {
            mix-blend-mode: screen;
        }
        .contentWrap {
            position: fixed;
            left: 0; top: 0;
            display: flex;
        }
        .content__item {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            position: relative;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <!-- <div class="loading">
        <article class="audio">
            <span class="btn-sound">
                <i class="fa fa-volume-up" aria-hidden="true"></i>
                <i class="fa fa-volume-off" aria-hidden="true"></i>
            </span>
            <audio id="theme-song" src="../assets/audio/gameshow-brazz-658.mp3" loop="loop"></audio>
        </article>
        <div class="circle-wrap">
            <div class="circle-inner">
                <div class="circle"></div>
            </div>
        </div>
        <p>제 포트폴리오의 방문해주셔서 감사합니다!</p>
    </div> -->
    <!-- loding -->


    <div class="contentWrap">

        <section id="section1" class="content__item">
            <div class="header">
                <img class="logo" src="assets/img/logo.svg" alt="logo">
                <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
            </div>
            <article class="audio">
                <span class="btn-sound">
                    <!-- <i class="fa fa-volume-up" aria-hidden="true"></i> -->
                    <i class="fa fa-volume-off fa-lg" aria-hidden="true"></i>
                </span>
                <!-- <audio id="theme-song" src="../assets/audio/gameshow-brazz-658.mp3" loop="loop"></audio> -->
            </article>
            <div class="bottom fixed">
                <span>scroll</span>
                <img class="arrow-down" src="assets/img/arrow-down.png" alt="arrowdown">
            </div>
            <div class="scroll">0</div>
            <div class="s1Text1 fixed"  
                data-0 = "left: 50%;"
                data-500 = "left: 25vw;"
                data-1800 = "left: 25vw;"
                data-1850 = "left: -30vw"
            >
                <span>안녕하</span>
                <div
                    data-100 = "width: 50vh; margin-left: -15px; margin-right: -15px;"
                    data-400 = "width: 50vh; margin-left: -15px; margin-right: -15px;"
                    data-450 = "width: 50vh; margin-left: -15px; margin-right: -15px;"
                    data-470 = "width: 50vh; margin-left: -15px; margin-right: -15px;"
                    data-500 = "width: 0vh; margin-left: 10px; margin-right: -15px;"
                ></div>
                <span>세요.</span>
            </div>
            <div class="s1Text2 fixed"  
                data-500 = "left: 125%;"
                data-900 = "left: 28vw;"
                data-1800 = "left: 28vw;"
                data-1850 = "left: -30vw"
            >
                <span>이세린</span>
                <div
                    data-500 = "width: 50vh; margin-left: -15px; margin-right: -15px;"
                    data-800 = "width: 50vh; margin-left: -20px; margin-right: -15px;"
                    data-850 = "width: 50vh; margin-left: -20px; margin-right: -15px;"
                    data-870 = "width: 50vh; margin-left: -20px; margin-right: -15px;"
                    data-900 = "width: 0vh; margin-left: 10px; margin-right: -15px;"
                ></div>
                <span>입니다!</span>
            </div>
            <div class="s1Text3 fixed"  
                data-900 = "left: 150%;"
                data-1300 = "left: 32vw;"
                data-1800 = "left: 32vw;"
                data-1850 = "left: -30vw"
            >
                <span>저를</span>
                <div
                    data-900 = "width: 50vh; margin-left: -15px; margin-right: -20px;"
                    data-1200 = "width: 50vh; margin-left: -20px; margin-right: -20px;"
                    data-1250 = "width: 50vh; margin-left: -20px; margin-right: -20px;"
                    data-1270 = "width: 50vh; margin-left: -20px; margin-right: -20px;"
                    data-1300 = "width: 0vh; margin-left: 50px; margin-right: -20px;"
                ></div>
                <span>소개할게요!</span>
            </div>
            <div class="s1Image1 fixed"
                data-1300="left: 100%; top: 80%; transform: scale(0);"
                data-1500="left: 70%; top: 20%; transform: scale(1);"
                data-1600="left: 70%; top: 20%; transform: scale(1);"
                data-1700="left: 70%; top: 20%; transform: scale(1.2);"
                data-1800="left: 40%; top: 20%; transform: scale(1.5);"
                data-1850 = "left: -30vw"
            >
                <img src="assets/img/icon1.png" alt="구름이미지">
            </div>
            <svg id="svg" class="fixed" viewBox="0 0 1000 1000">
                <defs>
                    <style>.cls-2{clip-path:url(#clip-path);}</style>
                    <clipPath id="clip-path">
                        <path class="blob cls-1"></path>
                    </clipPath>
                    <linearGradient id="sky" x1="0%" y1="0%" x2="100%" y2="0%"></linearGradient>
                </defs>
                <path class="blob cls-1"></path>
                <g class="cls-2">
                    <rect x="10" y="10" width="100%" height="100%" rx="0" ry="0" />
                    <image class="cls-3" width="100%" height="100%" xlink:href="assets/img/serin2.jpeg"/>
                </g>
            </svg>

        </section> 
        <!-- //section1 -->
    </div>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/skrollr/0.6.30/skrollr.min.js"></script>
    <script>
        //가로모드
        const contentWrap = $(".contentWrap");
        const contentItem = $(".content__item");

        let scrollTotalWidth = contentWrap.width();
        $("body").height(scrollTotalWidth);
        
        $(window).scroll(function(){
            let scrollTop = $(window).scrollTop();
 
            let nWidth = scrollTotalWidth - $(window).width();
            let nHeight = $("body").height() - $(window).height();

            let ratio = nWidth / nHeight;
            let goLeft = scrollTop * ratio;

            contentWrap.css("left", -goLeft);
        });

        //로딩
        $(window).load(function(){
            $(".loading").fadeOut();
        });

        $(window).scroll(function(){
            //bottom 사라지게
            $(".bottom").addClass("end");
        });

        //스크롤 값 출력
        var s = skrollr.init();
        window.addEventListener("scroll", () => {
            let scrollTop = document.documentElement.scrollTop || window.scrollY || window.PageYOffset; 
            document.querySelector(".scroll").innerHTML = scrollTop;
        })

        //svg
        var ct = 0;

        const blob = createBlob({
            element: document.querySelector('.blob'),
            numPoints: 6,
            centerX: 490,
            centerY: 450,
            minRadius: 300,
            maxRadius: 320,
            minDuration: 1,
            maxDuration: 2
        })


        function createBlob(options) {
   
            var points = [];  
            var path = options.element;
            var slice = (Math.PI * 2) / options.numPoints;
            var startAngle = random(Math.PI * 2);
            
            var tl = new TimelineMax({
                onUpdate: update
            });  
   
            for (var i = 0; i < options.numPoints; i++) {

                var angle = startAngle + i * slice;
                var duration = random(options.minDuration, options.maxDuration);

                var point = {
                    x: options.centerX + Math.cos(angle) * options.minRadius,
                    y: options.centerY + Math.sin(angle) * options.minRadius
            };   

            var tween = TweenMax.to(point, duration, {
                x: options.centerX + Math.cos(angle) * options.maxRadius,
                y: options.centerY + Math.sin(angle) * options.maxRadius,
                repeat: -1,
                yoyo: true,
                ease: Sine.easeInOut
            });

            tl.add(tween, -random(duration));
            points.push(point);
        }

        options.tl = tl;
        options.points = points;

        function update() {
                path.setAttribute("d", cardinal(points, true, 1));
            }

            return options;
        }

        // Cardinal spline - a uniform Catmull-Rom spline with a tension option
        function cardinal(data, closed, tension) {

            if (data.length < 1) return "M0 0";
            if (tension == null) tension = 1;

            var size = data.length - (closed ? 0 : 1);
            var path = "M" + data[0].x + " " + data[0].y + " C";

            for (var i = 0; i < size; i++) {

                var p0, p1, p2, p3;

                if (closed) {
                    p0 = data[(i - 1 + size) % size];
                    p1 = data[i];
                    p2 = data[(i + 1) % size];
                    p3 = data[(i + 2) % size];

                } else {
                    p0 = i == 0 ? data[0] : data[i - 1];
                    p1 = data[i];
                    p2 = data[i + 1];
                    p3 = i == size - 1 ? p2 : data[i + 2];
                }
                    
                var x1 = p1.x + (p2.x - p0.x) / 6 * tension;
                var y1 = p1.y + (p2.y - p0.y) / 6 * tension;

                var x2 = p2.x - (p3.x - p1.x) / 6 * tension;
                var y2 = p2.y - (p3.y - p1.y) / 6 * tension;

                path += " " + x1 + " " + y1 + " " + x2 + " " + y2 + " " + p2.x + " " + p2.y;
            }

            return closed ? path + "z" : path;
        }

        function random(min, max) {
            if (max == null) { max = min; min = 0; }
            if (min > max) { var tmp = min; min = max; max = tmp; }
            return min + (max - min) * Math.random();
        }
    </script>
</body>
</html>